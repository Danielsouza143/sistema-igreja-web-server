<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/auth-guard.js"></script>
    <title>Análise de Membros</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/auth-guard.js"></script>
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../../components/menu.css">
    <link rel="stylesheet" href="analise.membros.css">
</head>
<body>

    <header id="menu-placeholder">
    <nav class="menu">
        <div class="menu-lado-esquerdo">
            <div class="hamburger-menu hamburger-mobile" id="hamburger-btn-mobile"><i class='bx bx-menu'></i></div>
            <img src="/pages/logo.tab.png" alt="logo-tab" width="65" class="menu-logo" />
            <h3>ADTC - Tabernáculo Celeste</h3>
        </div>
        <div class="menu-acoes">
            <div class="notificacao-container" id="notificacao-container"><i class='bx bxs-bell'></i><span class="notificacao-contador" id="notificacao-contador"></span></div>
            <div class="conta-area"><a href="#" class="link-conta">Minha Conta</a><i class='bx bx-user-circle'></i></div>
        </div>
    </nav>
    <aside class="sub-menu">
        <div class="hamburger-menu hamburger-desktop" id="hamburger-btn-desktop"><i class='bx bx-menu'></i></div>
        <div class="menu-categorias">
            <a href="/pages/dashboard/dashboard.html" class="sub-menu-link">Dashboard</a>
            <a href="/pages/cadastro.page/cadastro.html" class="sub-menu-link">Cadastro</a>
            <a href="/pages/financeiro.page/financeiro.html" class="sub-menu-link">Financeiro</a>
            <a href="/pages/utensilios/utensilios.html" class="sub-menu-link">Utensílios</a>
            <a href="/pages/agenda/agenda.html" class="sub-menu-link">Agenda</a>
        </div>
    </aside>
    <div id="sidebar-overlay" class="sidebar-overlay"></div>
    <nav id="sidebar-menu" class="sidebar">
        <div class="sidebar-header">
            <h4>Navegação Principal</h4>
            <i class='bx bx-x' id="sidebar-close-btn"></i>
        </div>
        <ul class="sidebar-links">
            <li><a href="/pages/dashboard/dashboard.html"><i class='bx bxs-dashboard'></i> Dashboard</a></li>
            <li><a href="/pages/cadastro.page/cadastro.html"><i class='bx bxs-user-plus'></i> Cadastro</a></li>
            <li>
                <details><summary><i class='bx bxs-dollar-circle'></i> Financeiro</summary>
                    <ul><li><a href="/pages/financeiro.page/financeiro.html#lancamentos">- Lançamentos</a></li><li><a href="/pages/financeiro.page/financeiro.html#dizimos">- Dízimos e Ofertas</a></li></ul>
                </details>
            </li>
            <li>
                <details><summary><i class='bx bxs-box'></i> Utensílios</summary>
                    <ul><li><a href="/pages/utensilios/utensilios.html#inventario">- Inventário</a></li><li><a href="/pages/utensilios/utensilios.html#emprestimos">- Empréstimos</a></li><li><a href="/pages/utensilios/utensilios.html#manutencao">- Manutenção</a></li></ul>
                </details>
            </li>
            <li>
                <details><summary><i class='bx bxs-calendar-event'></i> Agenda</summary>
                    <ul><li><a href="/pages/agenda/agenda.html">- Calendário e Eventos</a></li></ul>
                </details>
            </li>
            <hr>
            <li><a href="#"><i class='bx bxs-cog'></i> Configurações</a></li>
            <li>
                <details><summary><i class='bx bxs-info-circle'></i> Sobre</summary>
                    <div class="sidebar-sobre"><p><strong>Versão:</strong> 1.0.0</p><a href="#" target="_blank">Site do Desenvolvedor</a></div>
                </details>
            </li>
        </ul>
    </nav>
</header>

    <main class="conteudo">
        <h1 class="title-page">Análise de Membros</h1>
        
        <section class="filtros-analise">
            <div class="filtros-wrapper">
                <select id="filtro-genero-analise" class="filtro-select">
                    <option value="">Todos os Gêneros</option>
                    <option value="masculino">Masculino</option>
                    <option value="feminino">Feminino</option>
                </select>
                <select id="filtro-faixa-etaria-analise" class="filtro-select">
                    <option value="">Todas as Faixas Etárias</option>
                    <option value="0-11">Crianças (0-11)</option>
                    <option value="12-17">Adolescentes (12-17)</option>
                    <option value="18-29">Jovens (18-29)</option>
                    <option value="30-59">Adultos (30-59)</option>
                    <option value="60+">Idosos (60+)</option>
                </select>
                <select id="filtro-estado-civil-analise" class="filtro-select">
                    <option value="">Todos os Estados Civis</option><option value="solteiro">Solteiro(a)</option><option value="casado">Casado(a)</option><option value="divorciado">Divorciado(a)</option><option value="viuvo">Viúvo(a)</option>
                </select>
                <button id="btn-limpar-filtros" class="btn-secundario">Limpar Filtros</button>
            </div>
        </section>

        <section class="dashboard-resumo">
            <div id="card-total-membros" class="card-resumo card-interativo">
                <i class='bx bxs-group'></i>
                <div class="card-info">
                    <span id="total-membros" class="valor-card">0</span>
                    <p class="label-card">Total de Membros</p>
                </div>
            </div>
            <div id="card-media-idade" class="card-resumo card-interativo">
                <i class='bx bx-male-female'></i>
                <div class="card-info">
                    <span id="media-idade" class="valor-card">0</span>
                    <p class="label-card">Idade Média</p>
                </div>
            </div>
            <div id="card-total-ministerios" class="card-resumo card-interativo">
                <i class='bx bx-church'></i>
                <div class="card-info">
                    <span id="total-ministerios" class="valor-card">0</span>
                    <p class="label-card">Ministérios Ativos</p>
                </div>
            </div>
            <div id="card-proximo-aniversariante" class="card-resumo card-interativo">
                <i class='bx bxs-cake'></i>
                <div class="card-info">
                    <span id="proximo-aniversariante" class="valor-card">--</span>
                    <p class="label-card">Próximo Aniversário</p>
                </div>
            </div>
        </section>

        <section class="graficos-container">
            <div class="grafico-wrapper">
                <h2>Distribuição por Gênero</h2>
                <canvas id="grafico-genero"></canvas>
            </div>
            <div class="grafico-wrapper">
                <h2>Faixa Etária</h2>
                <canvas id="grafico-faixa-etaria"></canvas>
            </div>
            <div class="grafico-wrapper">
                <h2>Cargos Eclesiásticos</h2>
                <canvas id="grafico-cargos"></canvas>
            </div>
            <div class="grafico-wrapper">
                <h2>Aniversariantes por Mês</h2>
                <canvas id="grafico-aniversariantes-mes"></canvas>
            </div>
            <div class="grafico-wrapper">
                <h2>Distribuição por Estado Civil</h2>
                <canvas id="grafico-estado-civil"></canvas>
            </div>
            <div class="grafico-wrapper">
                <h2>Engajamento Ministerial</h2>
                <canvas id="grafico-ministerios"></canvas>
            </div>
            <div class="grafico-wrapper">
                <h2>Taxa de Frequência por Perfil</h2>
                <canvas id="grafico-frequencia-perfil"></canvas>
            </div>
        </section> 
        
        <section class="grafico-grande-wrapper">
            <h2>Crescimento de Membros ao Longo do Tempo</h2>
            <div class="chart-canvas-container">
                <canvas id="grafico-crescimento"></canvas>
            </div>
        </section>

    </main>
    <script src="/pages/config.js"></script>
    <script src="../../components/menu.js"></script>
    <script src="analise.membros.js"></script> </body>
</html>